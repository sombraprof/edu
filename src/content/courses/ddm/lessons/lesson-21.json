{
  "formatVersion": "md3.lesson.v1",
  "id": "lesson-21",
  "title": "Aula 21: Fundamentos do Jetpack Compose",
  "slug": "fundamentos-jetpack-compose",
  "summary": "Introduz o paradigma declarativo do Jetpack Compose, comparando com Views e construindo a primeira tela responsiva.",
  "objective": "Criar interfaces responsivas com Jetpack Compose, organizando estados, previews e acessibilidade básica.",
  "objectives": [
    "Compreender diferenças entre UI imperativa e declarativa.",
    "Criar Composables reutilizáveis e aplicar Modifiers.",
    "Utilizar Preview e dispositivos virtuais para testar múltiplos tamanhos.",
    "Configurar theming Material 3 e suporte a dark mode."
  ],
  "competencies": [
    "UI declarativa em Android",
    "Design responsivo",
    "Acessibilidade e internacionalização"
  ],
  "skills": [
    "Estruturar função @Composable e gerenciar estado com `remember`/`mutableStateOf`.",
    "Aplicar `Surface`, `MaterialTheme` e tipografia.",
    "Usar `LazyColumn` para listas performáticas.",
    "Configurar `@Preview` com múltiplos dispositivos."
  ],
  "outcomes": [
    "Tela Compose replicando layout definido em Figma.",
    "Dark mode funcional e contraste verificado.",
    "Checklist de acessibilidade preenchido."
  ],
  "prerequisites": ["Aulas 18-20"],
  "tags": ["android", "compose", "material", "ux"],
  "duration": 120,
  "modality": "in-person",
  "resources": [
    {
      "label": "Jetpack Compose Basics",
      "url": "https://developer.android.com/jetpack/compose",
      "type": "guide"
    },
    {
      "label": "Material 3 for Compose",
      "url": "https://developer.android.com/jetpack/compose/designsystems/material3",
      "type": "guide"
    },
    {
      "label": "Accessibility in Compose",
      "url": "https://developer.android.com/jetpack/compose/accessibility",
      "type": "guide"
    }
  ],
  "bibliography": [
    "Google. Jetpack Compose by Example. 2024.",
    "Hudson, A. Jetpack Compose Essentials. 2023.",
    "Android Dev BR. Guia Material 3 no Compose. 2024."
  ],
  "assessment": {
    "type": "formative",
    "description": "Rubrica avaliando estrutura declarativa, responsividade e dark mode da tela criada."
  },
  "content": [
    {
      "type": "videos",
      "title": "Vídeos em português",
      "videos": [
        {
          "url": "https://www.youtube.com/watch?v=gp39Xaqfr6Y",
          "title": "Jetpack Compose do zero (Android Dev BR)",
          "caption": "Introdução prática com estado, navegação e dicas em português."
        },
        {
          "url": "https://www.youtube.com/watch?v=FqR0o9epYMo",
          "title": "Material Design 3 no Compose (Canal Mobile Summit Brasil)",
          "caption": "Demonstra como aplicar theming e design tokens em PT-BR."
        }
      ]
    },
    {
      "type": "lessonPlan",
      "title": "Plano da aula",
      "cards": [
        {
          "title": "Check-in",
          "content": "Qual componente Compose você já usou ou quer entender melhor?"
        },
        {
          "title": "Laboratório",
          "content": "Construir tela com hero, lista e CTA usando Compose + Material 3."
        },
        {
          "title": "Retro",
          "content": "Compartilhar desafios de estado e mapear próximos estudos (animacões, navegação)."
        }
      ]
    },
    {
      "type": "contentBlock",
      "title": "Estudo de caso – FitJourney: redesign em Compose",
      "content": [
        {
          "type": "paragraph",
          "text": "O app FitJourney precisa migrar telas críticas de XML para Compose mantendo identidade visual e acessibilidade."
        },
        {
          "type": "paragraph",
          "text": "A equipe de design já entregou tokens Material 3, mas o squad enfrenta inconsistências entre dark mode e componentes herdados. A meta é publicar nova UI no próximo release."
        },
        {
          "type": "unorderedList",
          "items": [
            "Escopo: Tela inicial + vitrine de treinos",
            "Prazo: 3 semanas",
            "Métrica: NPS do fluxo de onboarding + redução de bugs de layout"
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            "Pergunta: Como quebrar a tela em Composables reutilizáveis sem perder consistência?",
            "Pergunta: Quais testes e previews garantem fidelidade ao layout do Figma?",
            "Pergunta: Como validar acessibilidade em dark mode?"
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            "Ação sugerida: Criar catálogo de componentes com previews multi device.",
            "Ação sugerida: Integrar tokens Material 3 e validar contraste automaticamente.",
            "Ação sugerida: Registrar guidelines de uso no repositório do squad."
          ]
        }
      ]
    },
    {
      "type": "callout",
      "variant": "info",
      "title": "Checklist de acessibilidade Compose",
      "content": "Defina `contentDescription`, valide contraste com dark mode, teste TalkBack usando atalho no emulador."
    },
    {
      "type": "contentBlock",
      "title": "Mapeamento UI XML → Compose",
      "content": [
        {
          "type": "image",
          "src": "https://developer.android.com/static/images/jetpack/compose/lists/lazy-column.png",
          "alt": "Exemplo de LazyColumn com cartões"
        },
        {
          "type": "md3Table",
          "headers": ["Views", "Compose"],
          "rows": [
            ["ConstraintLayout", "Box/Column/Row + Modifiers"],
            ["RecyclerView", "LazyColumn/LazyRow"],
            ["TextView", "Text"],
            ["Button", "Button/FilledTonalButton"],
            ["CardView", "Card/Surface"]
          ]
        }
      ]
    },
    {
      "type": "stepper",
      "title": "Migração orientada a componentes",
      "steps": [
        {
          "title": "Inventariar UI",
          "description": "Liste componentes da tela legado e priorize equivalentes Compose."
        },
        {
          "title": "Criar fundações",
          "description": "Configure tema Material 3, tipografia e tokens globais."
        },
        {
          "title": "Construir Composables",
          "description": "Implemente componentes seguindo princípios de state hoisting e previews parametrizados."
        },
        {
          "title": "Validar experiência",
          "description": "Teste dark mode, acessibilidade e integrações antes de publicar."
        }
      ]
    },
    {
      "type": "pipelineCanvas",
      "title": "Pipeline da tela Compose",
      "summary": "Garantir entrega da tela com design tokens e QA.",
      "stages": [
        {
          "id": "design",
          "title": "1. Design tokens",
          "summary": "Mapear cores, tipografia e espaçamentos do Figma.",
          "status": "in-progress",
          "owners": ["Designer", "Mobile"],
          "deliverables": [
            {
              "id": "tokens",
              "label": "Arquivo tokens.json"
            },
            {
              "id": "paleta",
              "label": "Paleta claro/escuro"
            }
          ]
        },
        {
          "id": "implementacao",
          "title": "2. Implementação",
          "summary": "Criar Composables, previews e testes visuais.",
          "status": "not-started",
          "owners": ["Mobile"],
          "deliverables": [
            {
              "id": "screen",
              "label": "Tela Compose"
            },
            {
              "id": "preview",
              "label": "Preview multi device"
            }
          ]
        },
        {
          "id": "qa",
          "title": "3. QA",
          "summary": "Validar acessibilidade, dark mode e responsividade.",
          "status": "not-started",
          "owners": ["QA"],
          "deliverables": [
            {
              "id": "check",
              "label": "Checklist de acessibilidade"
            },
            {
              "id": "video",
              "label": "Vídeo comparativo claro/escuro"
            }
          ]
        }
      ]
    },
    {
      "type": "quiz",
      "title": "Checagem rápida",
      "question": "Ao criar a lista de treinos em Compose, o scroll está resetando ao voltar da tela de detalhes. Qual ajuste resolve o problema?",
      "options": [
        {
          "id": "opt-1",
          "text": "Promover o estado da lista para o ViewModel e lembrar a posição de scroll com `rememberLazyListState`.",
          "correct": true
        },
        {
          "id": "opt-2",
          "text": "Aumentar o tamanho do `LazyColumn` para ocupar toda a tela.",
          "correct": false
        },
        {
          "id": "opt-3",
          "text": "Adicionar um `LaunchedEffect(Unit)` para rolar sempre para o topo.",
          "correct": false
        }
      ],
      "allowRetry": true,
      "feedback": {
        "correct": "Estado de UI deve ser controlado pelo ViewModel; lembrar a posição mantém consistência ao navegar.",
        "incorrect": "Estado de UI deve ser controlado pelo ViewModel; lembrar a posição mantém consistência ao navegar."
      }
    },
    {
      "type": "callout",
      "variant": "task",
      "title": "TED – Landing page Compose",
      "content": "Replique a landing page fornecida (arquivo Figma) em Compose, com dark mode, lazy list e CTA navegando para tela de detalhes. Submeta vídeo + link do commit (tag `COMPOSE_A21`)."
    }
  ],
  "metadata": {
    "status": "in-review",
    "updatedAt": "2025-02-10T00:00:00.000Z",
    "owners": ["Equipe de Conteúdo DDM"],
    "sources": ["Plano de ensino DDM 2025.2", "Revisão docente fev/2025"]
  }
}
