{
  "formatVersion": "md3.lesson.v1",
  "id": "lesson-23",
  "title": "Aula 23: UI Responsiva, Material 3 e Dark Mode",
  "slug": "ui-responsiva-material3",
  "summary": "Aprimora a tela Compose com breakpoints responsivos, adaptação a diferentes densidades e suporte completo a Material 3/dark mode.",
  "objective": "Aplicar tokens Material 3, breakpoints responsivos e testes de acessibilidade para múltiplos dispositivos.",
  "objectives": [
    "Configurar `MaterialTheme` com esquemas claro/escuro dinâmicos.",
    "Utilizar `WindowSizeClass` para adaptar layout.",
    "Implementar suporte a fontes dinâmicas e escalonamento.",
    "Executar testes de acessibilidade (TalkBack, contraste, tamanho de fonte)."
  ],
  "competencies": ["Design responsivo", "Material Design 3", "Acessibilidade mobile"],
  "skills": [
    "Criar `ColorScheme` dinâmico com `dynamicLightColorScheme`.",
    "Aplicar `AdaptiveLayout` com `NavigationRail`/`NavigationBar`.",
    "Testar fontes grandes com `fontScale`.",
    "Executar checklist de acessibilidade com Accessibility Scanner."
  ],
  "outcomes": [
    "Layout adaptável em celular/tablet.",
    "Dark mode integrado com Material 3.",
    "Relatório de acessibilidade anexado."
  ],
  "prerequisites": ["Aulas 21-22"],
  "tags": ["android", "compose", "material3", "acessibilidade"],
  "duration": 120,
  "modality": "in-person",
  "resources": [
    {
      "label": "Material Design Responsiveness",
      "url": "https://m3.material.io/foundations/layout/overview",
      "type": "guide"
    },
    {
      "label": "Adaptive layouts in Compose",
      "url": "https://developer.android.com/jetpack/compose/layouts/adaptive",
      "type": "guide"
    },
    {
      "label": "Compose accessibility",
      "url": "https://developer.android.com/jetpack/compose/accessibility",
      "type": "guide"
    }
  ],
  "bibliography": [
    "Google. Adaptive Layouts. 2024.",
    "Android Dev BR. Dark mode e Material 3. 2024.",
    "UX Collective Brasil. Acessibilidade em apps. 2024."
  ],
  "assessment": {
    "type": "formative",
    "description": "Checklist avaliando tokens, responsividade e acessibilidade da tela adaptada."
  },
  "content": [
    {
      "type": "videos",
      "title": "Vídeos em português",
      "videos": [
        {
          "url": "https://www.youtube.com/watch?v=U4lH0svBL4I",
          "title": "Layouts adaptativos no Compose (Mobile Talks BR)",
          "caption": "Explica WindowSizeClass e padrões responsivos em português."
        },
        {
          "url": "https://www.youtube.com/watch?v=ty1gnSUZXLM",
          "title": "Dark mode e acessibilidade no Android (DevMedia)",
          "caption": "Boas práticas de contraste, fontes dinâmicas e testes acessíveis."
        }
      ]
    },
    {
      "type": "flightPlan",
      "title": "Plano da aula",
      "items": [
        "(15 min) Warm-up: analisar apps referência em telefone/tablet.",
        "(30 min) Demo: configurar Material 3 dinâmico e tokens personalizados.",
        "(40 min) Laboratório: adaptar layout com WindowSizeClass e NavigationRail.",
        "(20 min) Testes de acessibilidade: TalkBack, contraste, fontScale 1.5x.",
        "(15 min) Retro: consolidar checklist e definir ajustes finais."
      ]
    },
    {
      "type": "contentBlock",
      "title": "Estudo de caso – EducaKids: tablets na sala de aula",
      "content": [
        {
          "type": "paragraph",
          "text": "O app EducaKids precisa suportar tablets escolares e celulares antigos mantendo a mesma experiência de leitura."
        },
        {
          "type": "paragraph",
          "text": "O layout atual quebra em telas maiores e o dark mode está incompleto. O contrato com a rede de escolas exige acessibilidade comprovada."
        },
        {
          "type": "unorderedList",
          "items": [
            "Dispositivos alvo: Android 8 a 14, telas 7'' a 11''",
            "Critérios: WCAG AA, dark mode completo, tipografia escalável",
            "Prazo: Entrega em 4 semanas"
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            "Pergunta: Quais breakpoints exigem layout alternativo?",
            "Pergunta: Como validar contraste e fontes dinâmicas automaticamente?",
            "Pergunta: Que processos garantem revisão contínua com design?"
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            "Ação sugerida: Implementar WindowSizeClass com variações de navegação.",
            "Ação sugerida: Configurar testes instrumentados para validar dark mode e tamanho de fonte.",
            "Ação sugerida: Documentar checklist de acessibilidade e evidências para o cliente."
          ]
        }
      ]
    },
    {
      "type": "contentBlock",
      "title": "Tokens e breakpoints",
      "content": [
        {
          "type": "image",
          "src": "https://m3.material.io/images/layout/large-screens/adaptive-layout-hero.png",
          "alt": "Exemplo de layout adaptativo Material 3"
        },
        {
          "type": "md3Table",
          "headers": ["Breakpoint", "Largura", "Layout"],
          "rows": [
            ["Compact", "0-599dp", "AppBar + NavigationBar"],
            ["Medium", "600-839dp", "AppBar + NavigationRail"],
            ["Expanded", ">= 840dp", "AppBar + NavigationDrawer"],
            ["Font Scale", "1.0-1.5", "Ajuste de tipografia"],
            ["Font Scale", ">1.5", "Layout de alta legibilidade"]
          ]
        }
      ]
    },
    {
      "type": "stepper",
      "title": "Entregando UI adaptável",
      "steps": [
        {
          "title": "Diagnóstico",
          "description": "Avalie telas existentes em diferentes breakpoints e identifique pontos críticos."
        },
        {
          "title": "Tokens responsivos",
          "description": "Defina tamanhos, espaçamentos e hierarquia de componentes para cada classe de janela."
        },
        {
          "title": "Implementação",
          "description": "Adapte layout com NavigationRail/Drawer, suporte a fontes dinâmicas e dark mode."
        },
        {
          "title": "Validação",
          "description": "Execute testes de acessibilidade, capture vídeos comparativos e publique relatório."
        }
      ]
    },
    {
      "type": "callout",
      "variant": "info",
      "title": "Checklist de acessibilidade",
      "content": "Verifique contraste (>= 4.5:1), suporte a TalkBack, navegação por teclado e foco visível."
    },
    {
      "type": "pipelineCanvas",
      "title": "Pipeline responsivo",
      "summary": "Garantir rollout da tela adaptável com QA e documentação.",
      "stages": [
        {
          "id": "design",
          "title": "1. Design",
          "summary": "Tokens, breakpoints e variações documentadas.",
          "status": "in-progress",
          "owners": ["Designer"],
          "deliverables": [
            {
              "id": "tokens",
              "label": "Tokens Material 3"
            },
            {
              "id": "guideline",
              "label": "Guia responsivo"
            }
          ]
        },
        {
          "id": "dev",
          "title": "2. Implementação",
          "summary": "Aplicar WindowSizeClass, NavigationRail e dark mode.",
          "status": "not-started",
          "owners": ["Mobile"],
          "deliverables": [
            {
              "id": "layout",
              "label": "Layouts adaptados"
            },
            {
              "id": "tests",
              "label": "Testes instrumentados"
            }
          ]
        },
        {
          "id": "qa",
          "title": "3. QA",
          "summary": "Testes em dispositivos reais/emuladores com acessibilidade.",
          "status": "not-started",
          "owners": ["QA"],
          "deliverables": [
            {
              "id": "relatorio",
              "label": "Relatório de acessibilidade"
            },
            {
              "id": "video",
              "label": "Vídeo demonstração"
            }
          ]
        }
      ]
    },
    {
      "type": "quiz",
      "title": "Checagem rápida",
      "question": "O layout expanded está sobrecarregando a NavigationRail. Qual ajuste mantém responsividade e acessibilidade?",
      "options": [
        {
          "id": "opt-1",
          "text": "Migrar para `NavigationDrawer` persistente oferecendo labels e ícones maiores para o modo expanded.",
          "correct": true
        },
        {
          "id": "opt-2",
          "text": "Fixar a NavigationRail no centro da tela para ocupar menos espaço.",
          "correct": false
        },
        {
          "id": "opt-3",
          "text": "Desativar o layout expanded e manter apenas a versão compacta.",
          "correct": false
        }
      ],
      "allowRetry": true,
      "feedback": {
        "correct": "O drawer é a recomendação Material 3 para telas amplas, mantendo legibilidade e navegação clara.",
        "incorrect": "O drawer é a recomendação Material 3 para telas amplas, mantendo legibilidade e navegação clara."
      }
    },
    {
      "type": "callout",
      "variant": "task",
      "title": "TED – UI adaptável",
      "content": "Disponibilize vídeo mostrando tela em modo claro/escuro, telefone/tablet e fonte 1.5x. Anexe checklist e commit `RESP_A23`."
    }
  ],
  "metadata": {
    "status": "in-review",
    "updatedAt": "2025-02-10T00:00:00.000Z",
    "owners": ["Equipe de Conteúdo DDM"],
    "sources": ["Plano de ensino DDM 2025.2", "Revisão docente fev/2025"]
  }
}
