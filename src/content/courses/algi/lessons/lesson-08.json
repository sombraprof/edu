{
  "formatVersion": "md3.lesson.v1",
  "id": "lesson-08",
  "title": "Aula 8: Leituras múltiplas, cálculos encadeados e printf",
  "summary": "Consolida o fluxo Entrada → Processamento → Saída combinando leituras com scanf, variáveis intermediárias para cálculos e formatação profissional com printf.",
  "objective": "Construir programas sequenciais completos que recebem múltiplos dados, processam com clareza e exibem resultados formatados.",
  "objectives": [
    "Construir programas sequenciais em C que realizem múltiplas leituras e saídas formatadas.",
    "Aplicar operações aritméticas encadeadas preservando a ordem correta de execução.",
    "Validar dados lidos com scanf assegurando armazenamento em variáveis adequadas."
  ],
  "competencies": ["05", "11"],
  "skills": [
    "Encadear leituras com scanf usando especificadores e endereços corretos.",
    "Organizar cálculos intermediários em variáveis com nomes significativos.",
    "Formatar saídas com printf destacando valores intermediários relevantes."
  ],
  "outcomes": [
    "Entrega programa funcional que lê ao menos três valores e gera recibo formatado.",
    "Explica passo a passo como cada variável sustenta o fluxo entrada-processamento-saída.",
    "Identifica efeitos da ordem de operações ao testar dados extremos ou inválidos."
  ],
  "prerequisites": ["Reforçar leitura e declaração de variáveis vistas nas aulas 5 e 6."],
  "tags": ["sequencial", "scanf", "printf"],
  "duration": 120,
  "modality": "in-person",
  "resources": [
    {
      "label": "Folha-guia de máscaras printf",
      "type": "handout",
      "url": "https://example.edu/algi/guias/mask-printf.pdf"
    },
    {
      "label": "Template de recibo em C",
      "type": "repository",
      "url": "https://example.edu/algi/repos/recibo-template"
    },
    {
      "label": "OnlineGDB - Projeto C pré-configurado",
      "type": "tool",
      "url": "https://onlinegdb.com/7JwALg8qH"
    },
    {
      "label": "Replit - Workspace Algoritmos I",
      "type": "tool",
      "url": "https://replit.com/@md3-education/algi-template"
    },
    {
      "label": "VS Code - Template C com CMake",
      "type": "repository",
      "url": "https://github.com/md3-education/algi-c-template"
    },
    {
      "label": "Planilha de preparação pré-aula",
      "type": "spreadsheet",
      "url": "https://docs.google.com/spreadsheets/d/1ALGIprepTemplate"
    }
  ],
  "bibliography": [
    "PERRY, G. C Completo e Total. Novatec, 2021.",
    "BACKES, A. Linguagem C: Completa e Descomplicada. Elsevier, 2019.",
    "MANZANO, J. A. N. G.; OLIVEIRA, J. F. Algoritmos. Érica, 2019."
  ],
  "assessment": {
    "type": "pair-work",
    "description": "Produção em dupla de um recibo digital com múltiplas leituras, descontos e formatação alinhada, entregue via repositório."
  },
  "content": [
    {
      "type": "callout",
      "variant": "info",
      "title": "Warm-up (pré-aula)",
      "content": [
        {
          "type": "paragraph",
          "text": "Revise o plano de ensino e leia o trecho recomendado em Forbellone & Eberspächer relacionado a Leituras múltiplas, cálculos encadeados e printf. Assista ao vídeo indicado na playlist do Curso em Vídeo e anote dúvidas sobre o conteúdo descrito no sumário."
        },
        {
          "type": "list",
          "items": [
            {
              "text": "Verifique acesso ao OnlineGDB, Replit ou VS Code template para executar exemplos antes da aula."
            },
            {
              "text": "Preencha a planilha de preparação pré-aula com expectativas e dúvidas prioritárias."
            },
            {
              "text": "Confirme no Moodle a leitura das instruções da Aula 08."
            }
          ]
        }
      ]
    },
    {
      "type": "lessonPlan",
      "title": "Plano da aula",
      "cards": [
        {
          "icon": "book-open",
          "title": "Conteúdo",
          "content": "Entrada com scanf, variáveis intermediárias, máscaras printf e recibo sequencial."
        },
        {
          "icon": "bullseye",
          "title": "Objetivo",
          "content": "Conectar leitura, processamento e saída em um fluxo contínuo sem ambiguidades."
        },
        {
          "icon": "gears",
          "title": "Metodologia",
          "content": "Demonstração guiada, prática em pares e revisão coletiva do recibo."
        }
      ]
    },
    {
      "type": "flightPlan",
      "title": "Plano de voo (2h00)",
      "items": [
        "(15 min) Aquecimento: revisando Entrada → Processamento → Saída.",
        "(25 min) Leituras múltiplas com scanf (strings, floats e chars).",
        "(20 min) Variáveis intermediárias e cálculo passo a passo.",
        "(20 min) Máscaras printf, alinhamento e caracteres de escape.",
        "(30 min) Oficina de recibo em duplas.",
        "(10 min) Apresentação rápida dos recibos.",
        "(20 min) TED e encaminhamentos finais."
      ]
    },
    {
      "type": "contentBlock",
      "title": "Leitura múltipla com scanf",
      "content": [
        {
          "type": "paragraph",
          "text": "scanf permite capturar vários valores em uma única chamada. A ordem dos especificadores precisa refletir o tipo de cada variável."
        },
        {
          "type": "code",
          "language": "c",
          "code": "float preco1, preco2;\nint quantidade;\nprintf(\"Informe dois preços e a quantidade: \");\nscanf(\"%f %f %d\", &preco1, &preco2, &quantidade);"
        },
        {
          "type": "paragraph",
          "text": "O operador & indica o endereço onde o valor será armazenado. Sem ele, o programa não conseguirá alterar a variável."
        }
      ]
    },
    {
      "type": "callout",
      "variant": "warning",
      "title": "Cuidados com o buffer",
      "content": [
        {
          "type": "list",
          "ordered": false,
          "items": [
            "Consuma o \\n pendente antes de ler char ou string.",
            "Garanta que o especificador corresponde ao tipo declarado.",
            "Valide o retorno de scanf quando o dado vier de arquivos."
          ]
        }
      ]
    },
    {
      "type": "contentBlock",
      "title": "Variáveis intermediárias esclarecem o fluxo",
      "content": [
        {
          "type": "paragraph",
          "text": "Em cálculos encadeados, criar variáveis com nomes descritivos torna o passo a passo legível e facilita ajustes."
        },
        {
          "type": "code",
          "language": "c",
          "code": "float subtotal, desconto, total;\nsubtotal = preco1 + preco2;\ndesconto = subtotal * 0.10f;\ntotal = subtotal - desconto;"
        }
      ]
    },
    {
      "type": "contentBlock",
      "title": "Encadeando leituras e cálculos",
      "content": [
        {
          "type": "orderedList",
          "items": [
            "Leia primeiro todos os dados brutos (preço, quantidade, descontos).",
            "Crie variáveis para armazenar cada subtotal antes de aplicar novos fatores.",
            "Atualize o recibo a cada etapa, imprimindo valores intermediários para validar.",
            "Teste sequências alternativas (com ou sem desconto) para garantir consistência."
          ]
        },
        {
          "type": "code",
          "language": "c",
          "code": "float base, descontoPromocional, descontoFidelidade, total;\nscanf(\"%f %f %f\", &base, &descontoPromocional, &descontoFidelidade);\nfloat etapa1 = base - descontoPromocional;\nfloat etapa2 = etapa1 - (etapa1 * descontoFidelidade / 100.0f);\nprintf(\"Subtotal: %.2f\\n\", etapa1);\nprintf(\"Total final: %.2f\\n\", etapa2);"
        }
      ]
    },
    {
      "type": "callout",
      "variant": "good-practice",
      "title": "Máscaras printf úteis",
      "content": [
        {
          "type": "paragraph",
          "text": "Combine largura e casas decimais para simular colunas:"
        },
        {
          "type": "list",
          "ordered": false,
          "items": [
            "%8.2f → oito espaços com duas casas.",
            "%03d → inteiro com zeros à esquerda.",
            "%-20s → texto alinhado à esquerda."
          ]
        }
      ]
    },
    {
      "type": "md3Table",
      "headers": ["Máscara", "Descrição", "Exemplo de saída"],
      "rows": [
        [
          {
            "value": "%.2f",
            "mono": true
          },
          {
            "value": "Duas casas decimais"
          },
          {
            "value": "R$ 12.50",
            "code": true
          }
        ],
        [
          {
            "value": "%8.2f",
            "mono": true
          },
          {
            "value": "Alinha números em tabela"
          },
          {
            "value": "    85.40",
            "code": true
          }
        ],
        [
          {
            "value": "%010.2f",
            "mono": true
          },
          {
            "value": "Preenche com zeros até 10 caracteres"
          },
          {
            "value": "0000123.45",
            "code": true
          }
        ],
        [
          {
            "value": "%d%%",
            "mono": true
          },
          {
            "value": "Imprime símbolo de porcentagem"
          },
          {
            "value": "10%",
            "code": true
          }
        ],
        [
          {
            "value": "%#x",
            "mono": true
          },
          {
            "value": "Inteiro em hexadecimal com prefixo 0x"
          },
          {
            "value": "0x7b",
            "code": true
          }
        ],
        [
          {
            "value": "%-12s",
            "mono": true
          },
          {
            "value": "Texto alinhado à esquerda"
          },
          {
            "value": "Produto A    ",
            "code": true
          }
        ]
      ]
    },
    {
      "type": "contentBlock",
      "title": "Oficina: recibo de compras",
      "content": [
        {
          "type": "orderedList",
          "items": [
            "Ler três produtos com preço e quantidade.",
            "Calcular subtotais, total e desconto progressivo (10%).",
            "Imprimir um recibo alinhado com cabeçalho, corpo e rodapé.",
            "Registrar comentários explicando Entrada, Processamento e Saída."
          ]
        },
        {
          "type": "code",
          "language": "c",
          "code": "printf(\"--- RECIBO ---\\n\");\nprintf(\"%-12s %3s %10s\\n\", \"Produto\", \"Qtd\", \"Subtotal\");\nprintf(\"%-12s %3d R$ %8.2f\\n\", nome1, qtd1, subtotal1);"
        }
      ]
    },
    {
      "type": "contentBlock",
      "title": "Template completo de recibo",
      "content": [
        {
          "type": "code",
          "language": "c",
          "code": "#include <stdio.h>\n\nint main(void) {\n  char produto1[30], produto2[30];\n  int qtd1, qtd2;\n  float preco1, preco2;\n\n  printf(\"Item, quantidade e preço: \");\n  scanf(\"%29s %d %f\", produto1, &qtd1, &preco1);\n  printf(\"Item, quantidade e preço: \");\n  scanf(\"%29s %d %f\", produto2, &qtd2, &preco2);\n\n  float subtotal1 = qtd1 * preco1;\n  float subtotal2 = qtd2 * preco2;\n  float subtotal = subtotal1 + subtotal2;\n  float desconto = subtotal * 0.10f;\n  float total = subtotal - desconto;\n\n  printf(\"\\n--- RECIBO DIGITAL ---\\n\");\n  printf(\"%-12s %3s %10s\\n\", \"Produto\", \"Qtd\", \"Subtotal\");\n  printf(\"%-12s %3d R$ %8.2f\\n\", produto1, qtd1, subtotal1);\n  printf(\"%-12s %3d R$ %8.2f\\n\", produto2, qtd2, subtotal2);\n  printf(\"---------------------------\\n\");\n  printf(\"Subtotal:      R$ %8.2f\\n\", subtotal);\n  printf(\"Desconto (10%%): R$ %8.2f\\n\", desconto);\n  printf(\"TOTAL:         R$ %8.2f\\n\", total);\n  return 0;\n}\n"
        }
      ]
    },
    {
      "type": "callout",
      "variant": "error",
      "title": "Comprovação visual obrigatória",
      "content": [
        {
          "type": "paragraph",
          "text": "Capture o console exibindo o recibo final e o código utilizado lado a lado antes de enviar a atividade."
        },
        {
          "type": "list",
          "items": [
            {
              "text": "Mostre pelo menos dois cenários diferentes (com desconto e sem desconto adicional)."
            },
            {
              "text": "Garanta que a máscara printf usada apareça claramente na captura."
            },
            {
              "text": "Nomeie o arquivo da evidência como screenshot_aula08.png e anexe ao Moodle."
            }
          ]
        }
      ]
    },
    {
      "type": "contentBlock",
      "title": "Tarefa da semana",
      "content": [
        {
          "type": "paragraph",
          "text": "Implemente individualmente um programa que leia três lançamentos financeiros, calcule descontos sucessivos e exporte um relatório com totais e percentual economizado."
        },
        {
          "type": "paragraph",
          "text": "Publique o arquivo .c no Moodle até domingo 23h59 com comentários em inglês para cada etapa."
        }
      ]
    },
    {
      "type": "videos",
      "title": "Vídeos de apoio",
      "videos": [
        {
          "title": "Entrada e saída em C",
          "src": "https://www.youtube.com/embed/uX0r1JlyDFg"
        },
        {
          "title": "Formatando printf na prática",
          "src": "https://www.youtube.com/embed/0EEXxcTa7Ok"
        }
      ]
    },
    {
      "type": "checklist",
      "title": "Ao final da aula você consegue",
      "items": [
        "Ler múltiplos valores com uma única chamada scanf.",
        "Organizar cálculos em etapas reutilizáveis.",
        "Escolher máscaras printf adequadas para cada campo.",
        "Produzir recibos claros com totais e descontos."
      ]
    },
    {
      "type": "callout",
      "variant": "warning",
      "title": "TED pós-aula",
      "content": [
        {
          "type": "paragraph",
          "text": "Prazo: submeta no Moodle até 23h59 do dia seguinte à aula. Formato: utilize a tarefa 'TED Aula 08' para anexar o artefato solicitado."
        },
        {
          "type": "list",
          "items": [
            {
              "text": "Envie o programa aula08_cashflow.c formatando recibos conforme o template apresentado."
            },
            {
              "text": "Anexe captura do console com três casos de teste (pagamento à vista, parcelado e com desconto)."
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Rubrica de avaliação"
        },
        {
          "type": "list",
          "items": [
            {
              "text": "Entrega dentro do prazo indicado no Moodle (20%)."
            },
            {
              "text": "Código ou artefato atende integralmente ao enunciado proposto (40%)."
            },
            {
              "text": "Testes e evidências documentadas na planilha ou relatório (25%)."
            },
            {
              "text": "Reflexão ou justificativa clara anexada na submissão (15%)."
            }
          ]
        },
        {
          "type": "paragraph",
          "text": "Registre dúvidas no fórum do Moodle antes do prazo final para receber orientação."
        }
      ]
    }
  ],
  "metadata": {
    "status": "published",
    "updatedAt": "2025-03-07T12:00:00.000Z",
    "owners": ["Prof. Tiago Sombra"],
    "sources": ["Plano pedagógico Algoritmos I 2025.1", "Ata pedagógica de revisão 2024-12"]
  }
}
