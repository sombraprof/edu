{
  "formatVersion": "md3.lesson.v1",
  "id": "lesson-17",
  "title": "Aula 17: Estrutura de Repetição while",
  "summary": "Introduz laços while para repetir blocos enquanto condições permanecem verdadeiras, aplicando sentinelas e validações.",
  "objective": "Compreender, modelar e implementar laços while controlados por condição e por sentinela.",
  "objectives": [
    "Identificar situações em que while é mais adequado que for ou decisões simples.",
    "Traduzir fluxogramas com laço enquanto em pseudocódigo/C.",
    "Planejar testes que cubram entradas válidas, inválidas e sentinelas."
  ],
  "competencies": ["05", "08", "11"],
  "skills": [
    "Definir invariantes e condições de parada adequadas para laços while.",
    "Implementar sentinelas e validação de entrada garantindo que o loop encerre corretamente.",
    "Documentar rastreamento de variáveis a cada iteração para explicar o comportamento do algoritmo."
  ],
  "outcomes": [
    "Entrega código com while e sentinela documentados, acompanhado de comentários sobre invariantes.",
    "Demonstra execução controlada com dados válidos e inválidos registrando comportamento esperado.",
    "Produz tabela de rastreamento que evidencia atualização de variáveis a cada ciclo."
  ],
  "prerequisites": ["Domínio de condicionais compostas e operadores lógicos."],
  "tags": ["loops", "while", "repeticao"],
  "duration": 115,
  "modality": "in-person",
  "resources": [
    {
      "label": "Vídeo: Laços while em C (Curso em Vídeo)",
      "type": "video",
      "url": "https://www.youtube.com/watch?v=HfX5ZtsdS0c"
    },
    {
      "label": "Planilha de testes para while",
      "type": "spreadsheet",
      "url": "https://docs.google.com/spreadsheets/d/1ALGIWhileTestSuite"
    },
    {
      "label": "Projeto OnlineGDB – Média com sentinela",
      "type": "tool",
      "url": "https://onlinegdb.com/H1WhileSentinela"
    },
    {
      "label": "Template de relatório de loops",
      "type": "document",
      "url": "https://example.edu/algi/templates/relatorio-while.docx"
    }
  ],
  "bibliography": [
    "BACKES, A. Linguagem C: Completa e Descomplicada. Elsevier, 2019.",
    "MANZANO, J. Algoritmos. Érica, 2019."
  ],
  "assessment": {
    "type": "practice",
    "description": "Exercício guiado em dupla com entrega de pseudocódigo e tabela de testes ao final da aula."
  },
  "content": [
    {
      "type": "callout",
      "variant": "info",
      "title": "Warm-up (pré-aula)",
      "content": [
        {
          "type": "paragraph",
          "text": "Revise o plano de ensino e leia o trecho recomendado em Forbellone & Eberspächer relacionado a Estrutura de Repetição while. Assista ao vídeo indicado na playlist do Curso em Vídeo e anote dúvidas sobre o conteúdo descrito no sumário."
        },
        {
          "type": "list",
          "items": [
            {
              "text": "Verifique acesso ao OnlineGDB, Replit ou VS Code template para executar exemplos antes da aula."
            },
            {
              "text": "Preencha a planilha de preparação pré-aula com expectativas e dúvidas prioritárias."
            },
            {
              "text": "Confirme no Moodle a leitura das instruções da Aula 17."
            }
          ]
        }
      ]
    },
    {
      "type": "lessonPlan",
      "title": "Plano da aula",
      "cards": [
        {
          "icon": "book-open",
          "title": "Diagnóstico",
          "content": "Retomar situações que exigem repetição com verificação antes da execução (10 min)."
        },
        {
          "icon": "target",
          "title": "Desenho do fluxo",
          "content": "Converter briefing em fluxograma com sentinela destacado (15 min)."
        },
        {
          "icon": "code",
          "title": "Laboratório guiado",
          "content": "Implementar média até sentinela usando OnlineGDB (30 min)."
        },
        {
          "icon": "check-circle",
          "title": "Testes orientados",
          "content": "Preencher planilha com entradas válidas, inválidas e sentinelas (25 min)."
        },
        {
          "icon": "users",
          "title": "Retro",
          "content": "Compartilhar armadilhas encontradas e ajustes realizados (20 min)."
        },
        {
          "icon": "tasks",
          "title": "TED",
          "content": "Detalhar entrega com código, planilha e relato das validações (15 min)."
        }
      ]
    },
    {
      "type": "flightPlan",
      "title": "Plano de voo (1h55)",
      "items": [
        "(15 min) Aquecimento: identificar padrões que exigem repetição.",
        "(25 min) Aula expositiva: sintaxe e fluxo do while.",
        "(35 min) Laboratório guiado: cálculo de média até sentinela.",
        "(20 min) Discussão de testes e edge cases.",
        "(20 min) Exercício prático em dupla com feedback imediato."
      ]
    },
    {
      "type": "contentBlock",
      "title": "Quando usar while",
      "content": [
        {
          "type": "paragraph",
          "text": "Utilize while quando não souber quantas iterações serão necessárias e desejar testar a condição antes de executar o bloco."
        },
        {
          "type": "list",
          "ordered": false,
          "items": [
            "Leitura até receber um valor especial (sentinela).",
            "Validação de entrada até o usuário fornecer dados corretos.",
            "Monitoramento de sensores enquanto a leitura estiver dentro do intervalo."
          ]
        }
      ]
    },
    {
      "type": "cardGrid",
      "title": "Erros comuns em while",
      "cards": [
        {
          "title": "Loop infinito",
          "content": "Condição nunca atualizada ou sentinela não lida corretamente."
        },
        {
          "title": "Sentinela somada",
          "content": "Somar o valor de saída distorce média e contadores."
        },
        {
          "title": "Validação tardia",
          "content": "Checar entrada após acumular exige desfazer operações."
        }
      ]
    },
    {
      "type": "md3Flowchart",
      "title": "Fluxo: média com sentinela",
      "summary": "Fluxograma que representa a leitura de notas até o usuário digitar -1.",
      "nodes": [
        {
          "id": "start",
          "type": "start",
          "title": "Início"
        },
        {
          "id": "read",
          "type": "process",
          "title": "Ler nota",
          "summary": "Solicita entrada da usuária."
        },
        {
          "id": "check",
          "type": "decision",
          "title": "Nota é -1?",
          "branches": [
            {
              "id": "is-sentinel",
              "label": "Sim",
              "target": "average",
              "description": "Encerrar leituras e calcular média"
            },
            {
              "id": "not-sentinel",
              "label": "Não",
              "target": "accumulate",
              "description": "Somar e contar"
            }
          ]
        },
        {
          "id": "accumulate",
          "type": "process",
          "title": "Acumular nota",
          "summary": "Soma valor e incrementa contador."
        },
        {
          "id": "loop",
          "type": "process",
          "title": "Repetir entrada",
          "summary": "Retorna para leitura."
        },
        {
          "id": "average",
          "type": "process",
          "title": "Calcular média",
          "summary": "Divide soma pelo contador."
        },
        {
          "id": "end",
          "type": "end",
          "title": "Fim"
        }
      ],
      "connections": [
        {
          "from": "start",
          "to": "read"
        },
        {
          "from": "read",
          "to": "check"
        },
        {
          "from": "accumulate",
          "to": "loop"
        },
        {
          "from": "loop",
          "to": "read",
          "kind": "loop",
          "label": "Próxima nota"
        },
        {
          "from": "average",
          "to": "end"
        }
      ]
    },
    {
      "type": "callout",
      "variant": "info",
      "title": "Validação de entradas obrigatória",
      "content": [
        {
          "type": "list",
          "items": [
            {
              "text": "Rejeite notas fora do intervalo 0-10 antes de acumular."
            },
            {
              "text": "Solicite nova entrada quando usuário digitar valor inválido."
            },
            {
              "text": "Documente na planilha os casos rejeitados e o comportamento esperado."
            }
          ]
        }
      ]
    },
    {
      "type": "code",
      "language": "c",
      "code": "int nota = 0;\nint soma = 0;\nint quantidade = 0;\n\nprintf(\"Digite uma nota ou -1 para encerrar: \");\nscanf(\"%d\", &nota);\nwhile (nota != -1) {\n  soma += nota;\n  quantidade++;\n  printf(\"Digite uma nota ou -1 para encerrar: \");\n  scanf(\"%d\", &nota);\n}\nif (quantidade > 0) {\n  printf(\"Média: %.2f\\n\", (float)soma / quantidade);\n} else {\n  printf(\"Nenhuma nota válida informada\\n\");\n}\n"
    },
    {
      "type": "md3Table",
      "title": "Comparação de padrões de repetição",
      "headers": ["Padrão", "Quando usar", "Exemplo"],
      "rows": [
        [
          {
            "value": "while"
          },
          {
            "value": "Condição checada antes"
          },
          {
            "value": "Leitura até sentinela"
          }
        ],
        [
          {
            "value": "do-while"
          },
          {
            "value": "Executa ao menos uma vez"
          },
          {
            "value": "Menu interativo"
          }
        ],
        [
          {
            "value": "for"
          },
          {
            "value": "Número conhecido de repetições"
          },
          {
            "value": "Percorrer vetor de tamanho fixo"
          }
        ]
      ]
    },
    {
      "type": "checklist",
      "title": "Ao final, garanta que você",
      "items": [
        "Definiu sentinelas e condições de parada claramente.",
        "Registrou o comportamento esperado quando nenhuma nota válida é informada.",
        "Validou entradas negativas fora do sentinela."
      ]
    },
    {
      "type": "callout",
      "variant": "info",
      "title": "TED 17 – Média até sentinela",
      "content": [
        {
          "type": "paragraph",
          "text": "Envie até 23h59 do dia seguinte: código em C, planilha de testes e breve relato explicando a lógica de saída."
        },
        {
          "type": "list",
          "items": [
            {
              "text": "Arquivo aula17_media_while.c."
            },
            {
              "text": "Planilha 'TED17_while.xlsx' com casos válidos, inválidos e sentinela."
            },
            {
              "text": "Parágrafo no Moodle descrevendo como evita loops infinitos."
            }
          ]
        }
      ]
    },
    {
      "type": "callout",
      "variant": "warning",
      "title": "Critérios de avaliação TED 17",
      "content": [
        {
          "type": "list",
          "items": [
            {
              "text": "Entrega no prazo com todos os arquivos (20%)."
            },
            {
              "text": "Controle correto do sentinela e validação das entradas (35%)."
            },
            {
              "text": "Planilha de testes completa com resultados conferidos (25%)."
            },
            {
              "text": "Relato claro das decisões tomadas e riscos observados (20%)."
            }
          ]
        }
      ]
    }
  ],
  "metadata": {
    "status": "published",
    "updatedAt": "2025-04-05T12:00:00.000Z",
    "owners": ["Prof. Tiago Sombra"],
    "sources": ["Plano pedagógico Algoritmos I 2025.1", "Roteiro de laboratório while 2025"]
  }
}
